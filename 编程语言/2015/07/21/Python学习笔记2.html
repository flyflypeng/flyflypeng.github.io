<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Python 学习笔记（2）</title>
  <meta name="description" content="1. 函数 .1 函数调用 Python中内置了许多函数，在python程序中我们可以直接通过函数名调用，例如: abs,chr,ord等等。我们也可以从Python的官方文档中查看到内置函数的具体信息:https://docs.python.org/2/library/functions.html#absPyt...">
  
  <meta name="author" content="Pengfei Jiang">
  <meta name="copyright" content="&copy; Pengfei Jiang 2020">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/monokai-sublime.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="1. 函数 .1 函数调用 Python中内置了许多函数，在python程序中我们可以直接通过函数名调用，例如: abs,chr,ord等等。我们也可以从Python的官方文档中查看到内置函数的具体信息:https://docs.python.org/2/library/functions.html#absPyt..." />
  <meta property="og:url" content="http://localhost:4000" />
  <meta property="og:site_name" content="Fly Higher's Blog" />
  <meta property="og:title" content="Python 学习笔记（2）" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="http://localhost:4000/assets/instacode.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Python 学习笔记（2）">
  <meta name="twitter:description" content="1. 函数 .1 函数调用 Python中内置了许多函数，在python程序中我们可以直接通过函数名调用，例如: abs,chr,ord等等。我们也可以从Python的官方文档中查看到内置函数的具体信息:https://docs.python.org/2/library/functions.html#absPyt...">
  <meta name="twitter:image" content="http://localhost:4000/assets/instacode.png">
  <meta name="twitter:url" content="http://localhost:4000">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2015/07/21/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B02.html">
  <link rel="alternate" type="application/rss+xml" title="Fly Higher's Blog" href="http://localhost:4000/feed.xml" />
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/smile_icon.png" alt="Fly Higher's Blog">
      
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <i class="fa fa-bars"></i>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
        <li class="nav-link"><a href="/about/">About</a>
        <li class="nav-link"><a href="/posts/">Posts</a>
        <li class="nav-link"><a href="/project/">Projects</a>
        <!-- 
          
          <li class="nav-link"><a href="/about/">About</a>
          
        
          
        
          
        
          
        
          
          <li class="nav-link"><a href="/posts/">Posts</a>
          
        
          
          <li class="nav-link"><a href="/project/">Projects</a>
          
        
          
          <li class="nav-link"><a href="/category/android/">android</a>
          
        
          
          <li class="nav-link"><a href="/category/%E5%88%A9%E5%99%A8/">利器</a>
          
        
          
          <li class="nav-link"><a href="/category/%E5%AD%A6%E4%B9%A0-%E6%95%88%E7%8E%87/">学习&效率</a>
          
        
          
          <li class="nav-link"><a href="/category/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a>
          
        
          
          <li class="nav-link"><a href="/category/linux/">linux</a>
          
        
          
          <li class="nav-link"><a href="/category/%E5%86%85%E6%A0%B8/">内核</a>
          
        
          
          <li class="nav-link"><a href="/category/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">体系结构</a>
          
        
          
          <li class="nav-link"><a href="/category/linux/">Linux</a>
          
        
          
          <li class="nav-link"><a href="/category/%E7%94%9F%E6%B4%BB/">生活</a>
          
        
          
          <li class="nav-link"><a href="/category/%E8%99%9A%E6%8B%9F%E5%8C%96/">虚拟化</a>
          
        
          
          <li class="nav-link"><a href="/category/%E4%BA%91%E5%8E%9F%E7%94%9F/">云原生</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
         -->
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div class="post">

<div class="post-header-container has-cover" style="background-image: url(/assets/instacode.png);">
  <div class="scrim has-cover">
    <header class="post-header">
      <h1 class="title">Python 学习笔记（2）</h1>
      <p class="info">by <strong>FlyFlyPeng</strong></p>
    </header>
  </div>
</div>

<div class="wrapper">



<section class="post-meta">
  <div class="post-date">July 21, 2015</div>
  <div class="post-categories">
  in 
    
    <a href="/category/编程语言">编程语言</a>
    
  
  </div>
</section>

<article class="post-content">
  <p><img src="https://picturebed.obs.cn-east-2.myhuaweicloud.com/blogPictures/python_logo.png" alt="python_logo" /></p>

<h2 id="1-函数-">1. 函数 <span id="1"></span></h2>

<h3 id="1-函数调用-">.1 函数调用 <span id="1.1"></span></h3>
<p>Python中内置了许多函数，在python程序中我们可以直接通过函数名调用，例如: abs,chr,ord等等。我们也可以从Python的官方文档中查看到内置函数的具体信息:<a href="https://docs.python.org/2/library/functions.html#abs">https://docs.python.org/2/library/functions.html#abs</a></p>

<p>Python中函数的函数名其实本质上是一个指向函数对象的引用，完全可以把函数名赋值给一个变量，这相当于给函数换了个“别名”，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="nb">abs</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="mi">100</span>
</code></pre></div></div>
<!--more-->
<p>在使用Python中内置的函数时，需要根据函数的参数定义，传入合适的参数。</p>

<h3 id="12-函数定义-">1.2 函数定义 <span id="1.2"></span></h3>

<p>在Python中，定义一个函数需要使用def语句，依次写出函数名、括号、括号中的参数和冒号“:“，然后在缩进块中编写函数体，函数的返回值用return语句返回，下面就以自定义的求绝对值函数my_abs为例:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_abs</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
    	<span class="k">return</span> <span class="n">x</span>
    <span class="k">else</span><span class="p">:</span>
    	<span class="k">return</span> <span class="o">-</span><span class="n">x</span>
</code></pre></div></div>

<h3 id="13-空函数-">1.3 空函数 <span id="1.3"></span></h3>

<p>如果想定义一个什么也不做的空函数，可以采用<strong>pass</strong>语句:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">nop</span><span class="p">():</span>
	<span class="k">pass</span>
</code></pre></div></div>
<p>pass语句什么也不做，实际上pass可以用来作为占位符，比如现在还没想好怎么写函数的代码，就可以先放一个pass，让代码能运行起来。</p>

<h3 id="14-参数检查-">1.4 参数检查 <span id="1.4"></span></h3>

<p>Python解释器可以检查我们调用自定义函数时的<strong>参数的个数</strong>是否正确，但它不会检查我们调用函数时函数参数的类型是否正确，所以我们在自定义函数时，最好还要添加上参数类型检查。</p>

<p>在Python的内置函数中有一个函数叫做isinstance()，这个函数是用来判断一个变量是否是某种类型数据的实例，例如我们将上面的my_abs函数进行该进，为其添加上参数检查功能:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_abs</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">)):</span>
    	<span class="k">raise</span> <span class="nb">TypeError</span><span class="p">(</span><span class="s">'bad operand type'</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
    	<span class="k">return</span> <span class="n">x</span>
    <span class="k">else</span><span class="p">:</span>
    	<span class="k">return</span> <span class="o">-</span><span class="n">x</span>
</code></pre></div></div>

<h3 id="15-返回多个返回值-">1.5 返回多个返回值 <span id="1.5"></span></h3>

<p>在Python中支持返回多个返回值，看起来这与我们以前C语言中一个函数只能返回一个返回值有很大的不同啊？但是，实际上呢，Python中函数返回多个函数值，其实本质上是将多个返回值，组成一个tuple类型的数据返回，所以，本质上函数的返回值还是一个。
例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">math</span>

<span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">step</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="n">nx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">step</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
    <span class="n">ny</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">step</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">nx</span><span class="p">,</span><span class="n">ny</span>

<span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">move</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span>
<span class="k">print</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">move</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span>
<span class="k">print</span> <span class="n">r</span>
</code></pre></div></div>

<p>最终运行得到的结果是:</p>
<blockquote>
  <p>151.961524227 130.0
(151.96152422706632, 130.0)</p>
</blockquote>

<h3 id="16-函数的参数-">1.6 函数的参数 <span id="1.6"></span></h3>

<p>Python的函数定义非常简单，但灵活度却非常大。除了正常定义的必选参数外，还可以使用默认参数、可变参数和关键字参数，使得函数定义出来的接口，不但能处理复杂的参数，还可以简化调用者的代码。</p>

<h4 id="默认参数">默认参数</h4>
<p>下面就以X的N次幂为例，介绍函数默认参数的用法:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">power</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
	<span class="n">s</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">n</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
    	<span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">*</span><span class="n">x</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">s</span>
    
<span class="k">print</span> <span class="s">'power(5) = '</span><span class="p">,</span><span class="n">power</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="k">print</span> <span class="s">'</span><span class="se">\n</span><span class="s">power(5,2) = '</span><span class="p">,</span><span class="n">power</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></div>
<p>当我们调用power(5)时，就相当调用了power(5,2)，最后运行的结果为:</p>
<blockquote>
  <p>power(5) =  25</p>
</blockquote>

<blockquote>
  <p>power(5,2) =  25</p>
</blockquote>

<p><strong>使用默认参数时的注意事项:</strong>
第一，必选参数在前，默认参数在后，否则Python解释器会报错。
第二，当函数有多个参数时，把变化大的参数放前面，变化小的参数放后面。变化小的参数就可以作为默认参数。
第三，默认参数一定要指向不可变对象。</p>

<h4 id="可变参数">可变参数</h4>
<p>可变参数，顾名思义就是函数中参数的个数是可变的，不固定的，可以是0个，1个，2个等等。</p>

<p><em>*可变参数的定义方法是:只要在函数的参数列表前加上一个星号</em>即可，例如: **</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">calc</span><span class="p">(</span><span class="o">*</span><span class="n">numbers</span><span class="p">):</span>
	<span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">:</span>
    	<span class="nb">sum</span> <span class="o">+=</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span>
    <span class="k">return</span> <span class="nb">sum</span>
    
<span class="k">print</span> <span class="s">'calc(1,2) = '</span><span class="p">,</span><span class="n">calc</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="k">print</span> <span class="s">'calc() = '</span><span class="p">,</span><span class="n">calc</span><span class="p">()</span>
</code></pre></div></div>
<p>最后运行得到的结果是:</p>
<blockquote>
  <p>calc(1,2) =  5
calc() =  0</p>
</blockquote>

<h4 id="关键字参数">关键字参数</h4>
<p>可变参数允许你传入0个或任意个参数，这些可变参数在函数调用时自动组装为一个tuple。而关键字参数允许你传入0个或任意个<strong>含参数名的参数</strong>，这些关键字参数在函数内部自动组装为一个dict。关键字参数的定义: 在函数的形参前加上两个星号”**“，请看示例:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">person</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">age</span><span class="p">,</span><span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">'name:'</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="s">'age:'</span><span class="p">,</span><span class="n">age</span><span class="p">,</span><span class="s">'others:'</span><span class="p">,</span><span class="n">kw</span>
</code></pre></div></div>

<p>函数person在被调用时可以只传入必选参数，也可以传入任意个数的关键字参数。</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">person</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">age</span><span class="p">,</span><span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">'name:'</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="s">'age:'</span><span class="p">,</span><span class="n">age</span><span class="p">,</span><span class="s">'others:'</span><span class="p">,</span><span class="n">kw</span>

<span class="k">print</span> <span class="n">person</span><span class="p">(</span><span class="s">'Bob'</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span>
<span class="k">print</span> <span class="n">person</span><span class="p">(</span><span class="s">'Adam'</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="n">job</span><span class="o">=</span><span class="s">'engineer'</span><span class="p">,</span><span class="n">gender</span><span class="o">=</span><span class="s">'m'</span><span class="p">)</span>
<span class="k">print</span> <span class="n">person</span><span class="p">(</span><span class="s">'Peter'</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="n">city</span><span class="o">=</span><span class="s">'ShangHai'</span><span class="p">)</span>
</code></pre></div></div>
<p>运行的结果是:</p>
<blockquote>
  <p>name: Bob age: 15 others: {}
None
name: Adam age: 35 others: {‘gender’: ‘m’, ‘job’: ‘engineer’}
None
name: Peter age: 20 others: {‘city’: ‘ShangHai’}
None</p>
</blockquote>

<p>在上面的运行结果中，含有空值“None”的输出的原因是函数person的默认返回值为None。</p>

<p>关键字参数有什么用？它可以扩展函数的功能。比如，在person函数里，我们保证能接收到name和age这两个参数，但是，如果调用者愿意提供更多的参数，我们也能收到。试想你正在做一个用户注册的功能，除了用户名和年龄是必填项外，其他都是可选项，利用关键字参数来定义这个函数就能满足注册的需求。</p>

<h4 id="参数的组合">参数的组合</h4>
<p>在Python中定义函数，可以有必选参数、默认参数、可变参数和关键字参数，这4中参数可以一起使用，也可以使用其中的某一些，但是它们在函数参数列表中的定义的先后顺序必须是: 必选参数、默认参数、可变参数、关键字参数。</p>

<p>比如，定义一个函数包含上面的四种参数:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>
	<span class="k">print</span> <span class="s">'a = '</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="s">'b = '</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="s">'c = '</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="s">'args = '</span><span class="p">,</span><span class="n">args</span><span class="p">,</span><span class="s">'kw = '</span><span class="p">,</span><span class="n">kw</span>
</code></pre></div></div>

<p>在函数调用时，Python解释器按照参数名和参数位置将参数传递进去</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kw</span><span class="p">):</span>
	<span class="k">print</span> <span class="s">'a=:'</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="s">'b=:'</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="s">'c='</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="s">'args=:'</span><span class="p">,</span><span class="n">args</span><span class="p">,</span><span class="s">'kw=:'</span><span class="p">,</span><span class="n">kw</span>

<span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s">'a'</span><span class="p">,</span><span class="s">'b'</span><span class="p">)</span>

<span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s">'a'</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>

<span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s">'a'</span><span class="p">,</span><span class="s">'b'</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">99</span><span class="p">)</span>
</code></pre></div></div>

<p>最后运行得到的结果是:</p>
<blockquote>
  <p>a=: 1 b=: 2 c= 0 args=: () kw=: {}
a=: 1 b=: 2 c= 3 args=: () kw=: {}
a=: 1 b=: 2 c= 3 args=: (‘a’, ‘b’) kw=: {}
a=: 1 b=: 2 c= 3 args=: (‘a’, 5) kw=: {}
a=: 1 b=: 2 c= 3 args=: (‘a’, ‘b’) kw=: {‘x’: 99}</p>
</blockquote>

<p>对于任意的函数都可以通过func(*args,**kw)的方式进行调用，无论它的函数参数定义是什么样的，例如:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">kw</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x'</span><span class="p">:</span><span class="mi">99</span><span class="p">}</span>
<span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>
</code></pre></div></div>

<p>最后运行得到的结果是:</p>
<blockquote>
  <p>a=: 1 b=: 2 c= 3 args=: (4,) kw=: {‘x’: 99}</p>
</blockquote>

<p>最后，特别要注意的是
*args是可变参数，接受的是一个tuple
**kw 是关键字参数，接受的是一个dict</p>

<p>可变参数既可以直接传入: func(1, 2, 3)，又可以先组装list或tuple，再通过*args传入: func(*(1, 2, 3))；</p>

<p>关键字参数既可以直接传入:func(a=1, b=2)，又可以先组装dict，再通过**kw传入: func(**{‘a’: 1, ‘b’: 2})。</p>

<p>使用*args和**kw是Python的习惯写法，当然也可以用其他参数名，但最好使用习惯用法。</p>

<h2 id="2-高级特性-">2. 高级特性 <span id="2"></span></h2>

<p>Python的设计思想就是简单，能够用一行代码解决的问题，绝对不用5行代码取解决，所以Python中就有许多非常简洁又非常方便地一些高级特性，下面就一一作个介绍。</p>

<h3 id="21-切片-">2.1 切片 <span id="2.1"></span></h3>
<p>Python中可以通过切片操作非常方便地取出list或者tuple中的想要的元素，而不必很繁琐地通过索引和循环的方式来获取元素。</p>

<p>例如，我们取一个list中前3个元素，我们就可以用以下的一行语句来解决:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Michael'</span><span class="p">,</span><span class="s">'Bob'</span><span class="p">,</span><span class="s">'James'</span><span class="p">,</span><span class="s">'Peter'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</code></pre></div></div>
<p>L[0:3]表示从索引0开始取，直到索引3时结束，但是不包括索引3，所以最后取得元素是L[0],L[1],L[2]共三个元素。</p>

<p>其中L[0:3]也可以简写为L[:3]。</p>

<p>和取List的倒数索引类似，Python也支持倒数的切片方式，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">L</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="p">[</span><span class="s">'James'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">L</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="p">[</span><span class="s">'Bob'</span><span class="p">,</span> <span class="s">'James'</span><span class="p">]</span>
</code></pre></div></div>
<p>Python还支持每隔几个元素的切片操作，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">L</span>
<span class="p">[</span><span class="s">'Michael'</span><span class="p">,</span> <span class="s">'Bob'</span><span class="p">,</span> <span class="s">'James'</span><span class="p">,</span> <span class="s">'Peter'</span><span class="p">,</span> <span class="s">'Fred'</span><span class="p">,</span> <span class="s">'Tom'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">L</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
<span class="p">[</span><span class="s">'Michael'</span><span class="p">,</span> <span class="s">'James'</span><span class="p">,</span> <span class="s">'Fred'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="p">[</span><span class="s">'Michael'</span><span class="p">,</span> <span class="s">'Peter'</span><span class="p">]</span>
</code></pre></div></div>

<p>其中L[0:6:3]表示的意思是从索引0开始取，每隔3个元素取一个元素，直到取到索引位置为6为止，但是不包括索引位置6。</p>

<p>对字符串同样可以采用切片操作，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">str</span> <span class="o">=</span> <span class="s">'Hello World!'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">str</span>
<span class="s">'Hello World!'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">str</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
<span class="s">'Hello '</span>
</code></pre></div></div>

<h3 id="22-迭代-">2.2 迭代 <span id="2.2"></span></h3>
<p>Python中的迭代是指: 能够通过for循环来遍历可迭代的对象，在Python中可以迭代的对象有list，tuple，dict，字符串等。</p>

<p>例如，dict类型对象的迭代方法如下所示:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s">'a'</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">'b'</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s">'c'</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>

<span class="k">print</span> <span class="n">d</span>

<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">key</span>
</code></pre></div></div>
<p>最后运行得到的结果是:</p>
<blockquote>
  <p>{‘a’: 1, ‘c’: 3, ‘b’: 2}
a
c
b</p>
</blockquote>

<p>因为dict的存储不是按照list的方式进行排列的，所以输出的结果可能不一样。</p>

<p>判断一个对象是不是可迭代的对象的方法是: 通过collections模块的iterable类型判断，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Iterable</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">isinstance</span><span class="p">(</span><span class="s">'abc'</span><span class="p">,</span><span class="n">Iterable</span><span class="p">)</span>
<span class="bp">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">isinstance</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">Iterable</span><span class="p">)</span>
<span class="bp">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">isinstance</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span><span class="n">Iterable</span><span class="p">)</span>
<span class="bp">False</span>
</code></pre></div></div>

<p>如果要对list实现类似Java那样的下标循环怎么办？Python内置的enumerate函数可以把一个list变成索引-元素对，这样就可以在for循环中同时迭代索引和元素本身:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="s">'A'</span><span class="p">,</span><span class="s">'B'</span><span class="p">,</span><span class="s">'C'</span><span class="p">]):</span>
	<span class="k">print</span> <span class="n">i</span><span class="p">,</span><span class="n">value</span>
</code></pre></div></div>
<p>最后运行得到的结果是:</p>
<blockquote>
  <p>0 A
1 B
2 C</p>
</blockquote>

<h3 id="23-列表生成式-">2.3 列表生成式 <span id="2.3"></span></h3>
<p>列表生成式即List Comprehensions，它是Python内置的非常简单却十分强大的List生成式。</p>

<p>按照前面所学习的知识，在生成List对象时，我们可能会直接初始化赋值给出List中的数据元素，也可能通过range函数来构造List，或者通过for循环和List的append函数来构造list，但是上面这些方法，都有些繁琐，在Python中就是怎么简单就怎么来，下面我们就通过列表生成式的例子来介绍列表生成式:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mi">100</span><span class="p">]</span>
</code></pre></div></div>
<p>上面这个例子就给我们演示了生成1-10数字的x*x的方法，是不是很简单呢？</p>

<p><strong>写列表生成式时，首先要把生成的元素放在前面，后面再根for循环，就能创建出list了</strong></p>

<p>而且我们也可以通过列表生成式，开生成全排列，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">m</span><span class="o">+</span><span class="n">n</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="s">'ABC'</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="s">'123'</span><span class="p">]</span>
<span class="p">[</span><span class="s">'A1'</span><span class="p">,</span> <span class="s">'A2'</span><span class="p">,</span> <span class="s">'A3'</span><span class="p">,</span> <span class="s">'B1'</span><span class="p">,</span> <span class="s">'B2'</span><span class="p">,</span> <span class="s">'B3'</span><span class="p">,</span> <span class="s">'C1'</span><span class="p">,</span> <span class="s">'C2'</span><span class="p">,</span> <span class="s">'C3'</span><span class="p">]</span>
</code></pre></div></div>

<p>列出当前目录下的所有文件和目录，我可以通过下面这一行简单的代码就能实现了:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">os</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s">'.'</span><span class="p">)]</span>
<span class="p">[</span><span class="s">'define_generator.pyc'</span><span class="p">,</span> <span class="s">'iteration_example.py~'</span><span class="p">,</span> <span class="s">'iteration_example.py'</span><span class="p">,</span> <span class="s">'fibonacci.py'</span><span class="p">,</span> <span class="s">'define_generator.py'</span><span class="p">,</span> <span class="s">'fibonacci.pyc'</span><span class="p">]</span>
</code></pre></div></div>

<h3 id="24-生成器-">2.4 生成器 <span id="2.4"></span></h3>
<p>通过列表生成式，我们可以直接创建一个列表。但是，受到内存限制，列表容量肯定是有限的。而且，创建一个包含100万个元素的列表，不仅占用很大的存储空间，如果我们仅仅需要访问前面几个元素，那后面绝大多数元素占用的空间都白白浪费了。</p>

<p>所以，如果列表元素可以按照某种算法推算出来，那我们是否可以在循环的过程中不断推算出后续的元素呢？这样就不必创建完整的list，从而节省大量的空间。在Python中，这种一边循环一边计算的机制，称为生成器（Generator）。</p>

<p>创建generator的方法有很多，第一种方法就是把生成式中的[]换成()就可以了，由此就能够生成一个generator，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">L</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">81</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span>
<span class="o">&lt;</span><span class="n">generator</span> <span class="nb">object</span> <span class="o">&lt;</span><span class="n">genexpr</span><span class="o">&gt;</span> <span class="n">at</span> <span class="mh">0x7f425f70ecd0</span><span class="o">&gt;</span>
</code></pre></div></div>
<p>list可以通过索引或者迭代的方式进行访问，那么如何访问generator中的元素呢？
前面讲到，generator的目的就是为了节约内存空间，它的元素不是全部一次性就计算出来的，而是通过保存了算法，然后根据算法一步一步地计算出来的。因此，generator中采用了next()方法来获取generator中的元素，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="mi">0</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="mi">4</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="mi">9</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="mi">16</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="mi">25</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="mi">36</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="mi">49</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="mi">64</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="mi">81</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"&lt;stdin&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="nb">StopIteration</span>
</code></pre></div></div>
<p>当generator计算到最后一个元素之后，如果还继续调用next()方法，generator就会抛出一个StopIteration的错误。</p>

<p>但是上面这种调用generator的方法的确有些复杂，由于generator对象也是一个可迭代的对象，所以我们可以通过for循环来访问generator中的元素，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">g</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">print</span> <span class="n">n</span>
<span class="o">...</span>
<span class="mi">0</span>
<span class="mi">1</span>
<span class="mi">4</span>
<span class="mi">9</span>
<span class="mi">16</span>
<span class="mi">25</span>
<span class="mi">36</span>
<span class="mi">49</span>
<span class="mi">64</span>
<span class="mi">81</span>
</code></pre></div></div>

<p>创建generator的第二种方法就是: 如果一个函数定义中包含了yield关键字，那么这个函数就不在是一个普通函数，而是一个generator。</p>

<p>在这里最难理解的就是generator的执行顺序和函数的执行顺序不一样。函数是顺序执行，遇到return语句或者执行完函数的最后一行语句后返回。而变成generator的函数，在每次遇到next()的时候执行，遇到yield语句返回，再次执行时从上一次返回的yield语句处接下去继续执行，直到遇到函数体中的return语句或者执行到函数体的最后一行语句才停止，下面就举个简单的例子:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">odd</span><span class="p">():</span>
<span class="o">...</span>     <span class="k">print</span> <span class="s">'step 1'</span>
<span class="o">...</span>     <span class="k">yield</span> <span class="mi">1</span>
<span class="o">...</span>     <span class="k">print</span> <span class="s">'step 2'</span>
<span class="o">...</span>     <span class="k">yield</span> <span class="mi">2</span>
<span class="o">...</span>     <span class="k">print</span> <span class="s">'step 3'</span>
<span class="o">...</span>     <span class="k">yield</span> <span class="mi">3</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">o</span> <span class="o">=</span> <span class="n">odd</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">o</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="n">step</span> <span class="mi">1</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">o</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="n">step</span> <span class="mi">2</span>
<span class="mi">2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">o</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="n">step</span> <span class="mi">3</span>
<span class="mi">3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">o</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"&lt;stdin&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="nb">StopIteration</span>
</code></pre></div></div>

<p>generator是非常强大的工具，在Python中，可以简单地把列表生成式改成generator，也可以通过函数实现复杂逻辑的generator。</p>

<h2 id="3-函数式编程-">3. 函数式编程 <span id="3"></span></h2>

<h3 id="31-高阶函数-">3.1 高阶函数 <span id="3.1"></span></h3>
<p>变量可以指向函数，函数的参数又可以接受变量，所以当一个函数A可以接受另一个函数B作为参数时，我们就称函数A为高阶函数。例如，</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">f</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span> <span class="n">add</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="nb">abs</span><span class="p">)</span>
<span class="mi">20</span>
</code></pre></div></div>
<p>上面的例子中，函数add就是一个高阶函数，它能够接受一个函数作为参数。</p>

<p><strong>把函数当做参数传入到另外一个函数中，这样的函数就称为高阶函数。</strong></p>

<h4 id="mapreduce高阶函数的用法">map/reduce高阶函数的用法</h4>
<p>Python中内建了map()和reduce()函数，有关Map/Reduce的概念，请详见google的一片论文，<a href="https://research.google.com/archive/mapreduce.html">MapReduce: Simplified Data Processing on Large Clusters</a></p>

<h5 id="map">map</h5>
<p>map函数接收两个参数，一个是函数，一个是序列，map将接收到的函数依次作用于序列中的每个元素，并把结果作为新的list返回，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span>
<span class="o">...</span>     
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">map</span><span class="p">(</span><span class="n">f</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>
</code></pre></div></div>

<p>所以，map作为高阶函数，它把计算规则抽象化了，因此，我们不仅可以计算简单的f(x)=x*x，而且还可以计算更为复杂的函数。</p>

<h5 id="reduce">reduce</h5>
<p>reduce把一个函数作用在一个序列[x1,x2,x3…]上，<strong>这个函数必须接收两个参数</strong>，reduce将计算得到的结果再与序列中的下一个元素做累计计算，其效果就是:</p>
<blockquote>
  <p>reduce(f,[x1,x2,x3,x4])=f(f(f(x1,x2),x3),x4)</p>
</blockquote>

<p>例如，一个序列求和就可以通过reduce实现</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">reduce</span><span class="p">(</span><span class="n">add</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="mi">15</span>
</code></pre></div></div>

<p>在介绍完，map和reduce的用法之后，我们就给出一个两者混合使用的例子: 将字符串形式表示的整数转换成整数。</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">fn</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="mi">10</span><span class="o">+</span><span class="n">y</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">num2int</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="p">{</span><span class="s">'0'</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s">'1'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'2'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'3'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'4'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">'5'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s">'6'</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s">'7'</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s">'8'</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s">'9'</span><span class="p">:</span> <span class="mi">9</span><span class="p">}[</span><span class="n">s</span><span class="p">]</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">reduce</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span><span class="nb">map</span><span class="p">(</span><span class="n">num2int</span><span class="p">,</span><span class="s">'13579'</span><span class="p">))</span>
<span class="mi">13579</span>
</code></pre></div></div>

<h5 id="练习">练习</h5>
<p>利用map()函数，把用户输入的不规范的英文名字，变为首字母大写，其他小写的规范名字。输入: [‘adam’, ‘LISA’, ‘barT’]，输出: [‘Adam’, ‘Lisa’, ‘Bart’]。</p>

<p>解答:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">name_format</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
	<span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
	<span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>
	<span class="k">return</span> <span class="n">s</span>

<span class="k">print</span> <span class="nb">map</span><span class="p">(</span><span class="n">name_format</span><span class="p">,[</span><span class="s">'adam'</span><span class="p">,</span><span class="s">'LISA'</span><span class="p">,</span><span class="s">'barT'</span><span class="p">])</span>
</code></pre></div></div>

<h4 id="filter高阶函数的用法">filter高阶函数的用法</h4>
<p>Python内建的filter函数用于过滤序列。和map()相似，filter()也接受一个函数和一个序列共两个参数，但和map()不同的是，filter()依次把函数作用于序列中每个元素，然后根据返回值是True还是False来保留还是丢弃该元素。</p>

<p>例如，在一个list中删除掉其中的偶数，那么这就可以这么写:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">is_odd</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>

<span class="k">print</span> <span class="nb">filter</span><span class="p">(</span><span class="n">is_odd</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
</code></pre></div></div>
<p>最后运行得到的结果是:</p>
<blockquote>
  <p>[1, 3, 5, 7, 9]</p>
</blockquote>

<p>如果is_odd()得到的结果是True，那么则保留该元素，如果is_odd()得到的函数是False，那么则删除该元素。</p>

<h5 id="练习-1">练习</h5>
<p>请尝试使用filter()删除1-100之间的素数。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">math</span>

<span class="k">def</span> <span class="nf">filter_prime_number</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
	<span class="n">i</span> <span class="o">=</span> <span class="mi">2</span>
	<span class="n">n</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">)(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
	<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">:</span>
		<span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
			<span class="k">return</span> <span class="bp">True</span>
		<span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
	<span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">:</span>
		<span class="k">return</span> <span class="bp">False</span>

<span class="k">print</span> <span class="nb">filter</span><span class="p">(</span><span class="n">filter_prime_number</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">101</span><span class="p">))</span>
</code></pre></div></div>

<p>运行得到的结果是:</p>
<blockquote>
  <p>[4, 6, 8, 9, 10, 12, 14, 15, 16, 18, 20, 21, 22, 24, 25, 26, 27, 28, 30, 32, 33, 34, 35, 36, 38, 39, 40, 42, 44, 45, 46, 48, 49, 50, 51, 52, 54, 55, 56, 57, 58, 60, 62, 63, 64, 65, 66, 68, 69, 70, 72, 74, 75, 76, 77, 78, 80, 81, 82, 84, 85, 86, 87, 88, 90, 91, 92, 93, 94, 95, 96, 98, 99, 100]</p>
</blockquote>

<h4 id="sorted排序函数">sorted排序函数</h4>
<p>Python内置的sorted()函数能够对list进行排序，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">sorted</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
</code></pre></div></div>
<p>同时sorted函数还是一个高阶函数，它还能够接收一个比较函数来实现自定义排序的功能。</p>

<p>例如，我们想实现一个排倒序的功能，那么我们可以自定义一个排倒序的比较函数，然后将这个函数传递到sorted函数中:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">reversed_cmp</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">:</span>
<span class="o">...</span>             <span class="k">return</span> <span class="mi">1</span>
<span class="o">...</span>     <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span>
<span class="o">...</span>             <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
<span class="o">...</span>     <span class="k">return</span> <span class="mi">0</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">sorted</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span><span class="n">reversed_cmp</span><span class="p">)</span>
<span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> 
</code></pre></div></div>

<h3 id="32-返回函数-">3.2 返回函数 <span id="3.2"></span></h3>
<p>函数除了可以作为另外一个函数的参数之外，还可以作为函数的返回值。</p>

<p>下面就以一个求和函数为例:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">lazy_sum</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">def</span> <span class="nf">sum</span><span class="p">():</span>
<span class="o">...</span>         <span class="n">ax</span> <span class="o">=</span> <span class="mi">0</span>
<span class="o">...</span>         <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
<span class="o">...</span>             <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span> <span class="o">+</span> <span class="n">n</span>
<span class="o">...</span>         <span class="k">return</span> <span class="n">ax</span>
<span class="o">...</span>     <span class="k">return</span> <span class="nb">sum</span>
</code></pre></div></div>
<p>当我们调用lazy_sum()时，返回的不是最后计算得到的数值，而是一个函数对象</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">lazy_sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span>
<span class="o">&lt;</span><span class="n">function</span> <span class="nb">sum</span> <span class="n">at</span> <span class="mh">0x7f55b35b96e0</span><span class="o">&gt;</span>
</code></pre></div></div>
<p>只有再调用函数f()之后才能得到求和的结果:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">()</span>
<span class="mi">25</span>
</code></pre></div></div>
<p>在这个例子中，我们在lazy_sum()函数中还定义了一个sum()函数，并且内部函数sum还引用了外部函数lazy_sum函数中的参数和局部变量，当lazy_sum函数返回函数sum时 ，相关参数和局部变量都保存在返回函数值中，这种程序成为“闭包”。</p>

<h5 id="闭包的使用">闭包的使用</h5>
<p>闭包的使用虽然简单，但是它有许多需要注意的地方，下面就举个例子:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">count</span><span class="p">():</span>
<span class="o">...</span>     <span class="n">fs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">...</span>     <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
<span class="o">...</span>             <span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
<span class="o">...</span>                 <span class="k">return</span> <span class="n">i</span><span class="o">*</span><span class="n">i</span>
<span class="o">...</span>             <span class="n">fs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">fs</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">f1</span><span class="p">,</span><span class="n">f2</span><span class="p">,</span><span class="n">f3</span> <span class="o">=</span> <span class="n">count</span><span class="p">()</span>
</code></pre></div></div>
<p>在上面例子中，每次循环都建立了一个新的函数，然后将3个函数都通过列表的形式返回了。</p>

<p>你可能认为，三个函数的执行结果分别是1,4,9，但是实际的运行结果则是:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f1</span><span class="p">()</span>
<span class="mi">9</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f2</span><span class="p">()</span>
<span class="mi">9</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f3</span><span class="p">()</span>
<span class="mi">9</span>
</code></pre></div></div>
<p>三个函数的运行结果全部都是9！这是因为函数f在定义中引用了局部变量i，并且函数f并不是立即运行。等到三个函数都返回时，保存在返回函数中的局部变量i的值已经都变成了3，因此最终的结果都是9。</p>

<p><strong>所以在返回闭包时一定要注意，千万不要在返回的函数中使用循环中的变量，或者后续会发生变化的变量</strong></p>

<p>如果一定要引用循环变量怎么办？方法是再创建一个函数，用该函数的参数绑定循环变量当前的值，无论该循环变量后续如何更改，已绑定到函数参数的值不变:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">count</span><span class="p">():</span>
<span class="o">...</span>     <span class="n">fs</span><span class="o">=</span><span class="p">[]</span>
<span class="o">...</span>     <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
<span class="o">...</span>         <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">j</span><span class="p">):</span>
<span class="o">...</span>             <span class="k">def</span> <span class="nf">g</span><span class="p">():</span>
<span class="o">...</span>                 <span class="k">return</span> <span class="n">j</span><span class="o">*</span><span class="n">j</span>
<span class="o">...</span>             <span class="k">return</span> <span class="n">g</span>
<span class="o">...</span>         <span class="n">fs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">fs</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f1</span><span class="p">()</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f2</span><span class="p">()</span>
<span class="mi">4</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f3</span><span class="p">()</span>
<span class="mi">9</span>
</code></pre></div></div>

<h3 id="33-匿名函数-">3.3 匿名函数 <span id="3.3"></span></h3>
<p>当我们在传入函数时，有些时候我们可以不用显示地定义一个函数，而直接传入匿名函数更为方便。</p>

<p>以map()函数为例，计算f(x)=x*x时，除了定义一个f(x)之外，还可以直接传入匿名函数:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>
</code></pre></div></div>

<p>通过对比可以知道，lambda x:x*x实际上等效于:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span>
</code></pre></div></div>
<p>从上面的例子中，我们可以总结一下匿名函数的定义形式:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">lambda</span> <span class="err">形参</span><span class="p">:</span><span class="err">返回值表达式</span>
</code></pre></div></div>
<p>其中关键字<strong>lambda</strong>表示匿名函数，冒号前面是形参，冒号后面就是返回值表达式。但是从上面的匿名函数定义形式我们就可以看出，匿名函数有个限制，就是它的返回值只能有一个，因为冒号后面只允许有一个返回值表达式。</p>

<p>用匿名函数有一个好处，因为没有函数名，就不存在函数名冲突。此外，匿名函数还是一个函数对象，还可以将匿名函数对象赋值给一个变量，然后就可以通过该变量来调用该函数，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">*</span><span class="n">x</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span>
<span class="o">&lt;</span><span class="n">function</span> <span class="o">&lt;</span><span class="k">lambda</span><span class="o">&gt;</span> <span class="n">at</span> <span class="mh">0x7f55b35b98c0</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="mi">25</span>
</code></pre></div></div>
<p>同样，匿名函数也可以作为返回值返回。</p>

<h3 id="34-decorator函数装饰器-">3.4 decorator函数（装饰器） <span id="3.4"></span></h3>

<p>函数对象有一个__name__属性，可以拿到函数的名字:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">now</span><span class="p">():</span>
<span class="o">...</span>     <span class="k">print</span> <span class="s">'2015-07-20'</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">now</span><span class="o">.</span><span class="n">_name_</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"&lt;stdin&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="nb">AttributeError</span><span class="p">:</span> <span class="s">'function'</span> <span class="nb">object</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s">'_name_'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">now</span><span class="o">.</span><span class="n">__name__</span>
<span class="s">'now'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">now</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">__name__</span>
<span class="s">'now'</span>
</code></pre></div></div>
<p>在这里要注意一点: “__name__“属性中“name”前面和后面均有<strong>两个英文下划线</strong>。</p>

<p>现在，如果我们要增强now()函数的功能，比如，在函数调用前自动打印日志，但又不希望修改原来now()函数的定义，这种在代码运行期间动态增加功能的方式，称之为”装饰器“(Decorator)。</p>

<p>本质上，decorator就是一个返回函数的高阶函数。所以，我们要定义一个能打印日志的decorator，可定义如下:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kw</span><span class="p">):</span>
<span class="o">...</span>         <span class="k">print</span> <span class="s">'call </span><span class="si">%</span><span class="s">s():'</span><span class="o">%</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
<span class="o">...</span>         <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">wrapper</span>
</code></pre></div></div>

<p>观察上面的log，因它是一个decorator，所以接受一个函数作为参数，并返回一个函数。我们需要借助Python中的@语法，把decorator置于函数的定义处:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">log</span>
<span class="k">def</span> <span class="nf">now</span><span class="p">():</span>
	<span class="k">print</span> <span class="s">'2015-07-20'</span>
</code></pre></div></div>
<p>把@log放在now()函数的定义处，相当于执行了语句:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">now</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">now</span><span class="p">)</span>
</code></pre></div></div>
<p>下面，我们就对上述的过程进行一个分析:
<img src="https://picturebed.obs.cn-east-2.myhuaweicloud.com/blogPictures/decorator_analysis_process.png" alt="decorator_analysis_process" /></p>

<p>如果decorator需要传入参数，那就需要编写一个返回decorator的高阶函数，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
            <span class="k">print</span> <span class="s">'</span><span class="si">%</span><span class="s">s </span><span class="si">%</span><span class="s">s():'</span> <span class="o">%</span> <span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span>
</code></pre></div></div>
<p>运行的结果是:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">now</span><span class="p">()</span>
<span class="n">execute</span> <span class="n">now</span><span class="p">():</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">25</span>
</code></pre></div></div>
<p>上面的语句的执行效果等效于:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">now</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="s">'execute'</span><span class="p">)(</span><span class="n">now</span><span class="p">)</span>
</code></pre></div></div>
<p>整个执行的过程，如下图所示:
<img src="https://picturebed.obs.cn-east-2.myhuaweicloud.com/blogPictures/decorator_analysis_process2.png" alt="decorator_analysis_process2" /></p>

<p>以上两种decorator的定义都没有问题，但还差最后一步。因为我们讲了函数也是对象，它有__name__等属性，但你去看经过decorator装饰之后的函数，它们的__name__已经从原来的’now’变成了’wrapper’:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">now</span><span class="o">.</span><span class="n">__name__</span>
<span class="s">'wrapper'</span>
</code></pre></div></div>
<p>因为返回的那个wrapper()函数名字就是’wrapper’，所以，需要把原始函数的__name__等属性复制到wrapper()函数中，否则，有些依赖函数签名的代码执行就会出错。</p>

<p>不需要编写 wrapper.<strong>name</strong> = func.<strong>name</strong> 这样的代码，因为Python内置的functools.wraps就是干这事的，所以一个完整的decorator的写法如下:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">functools</span>

<span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="o">@</span><span class="n">functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">'call </span><span class="si">%</span><span class="s">s():'</span> <span class="o">%</span> <span class="n">func</span><span class="o">.</span><span class="n">__name__</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>
</code></pre></div></div>
<p>或者是带参数的decorator</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">functools</span>

<span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="o">@</span><span class="n">functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
            <span class="k">print</span> <span class="s">'</span><span class="si">%</span><span class="s">s </span><span class="si">%</span><span class="s">s():'</span> <span class="o">%</span> <span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span>

<span class="o">@</span><span class="n">log</span><span class="p">(</span><span class="s">'execute'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">now</span><span class="p">():</span>
	<span class="k">print</span> <span class="s">'2015-07-20'</span>

<span class="n">now</span><span class="p">()</span>

<span class="k">print</span> <span class="s">'now.__name__: </span><span class="si">%</span><span class="s">s'</span> <span class="o">%</span> <span class="n">now</span><span class="o">.</span><span class="n">__name__</span>
</code></pre></div></div>
<p>后者运行的结果为:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">execute</span> <span class="n">now</span><span class="p">():</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">20</span>
<span class="n">now</span><span class="o">.</span><span class="n">__name__</span><span class="p">:</span> <span class="n">now</span>
</code></pre></div></div>

<p><strong>import functools</strong>是导入functools模块。</p>

<p>请编写一个decorator，能在函数调用的前后打印出’begin call’和’end call’的日志。</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">functools</span>

<span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="o">@</span><span class="n">functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">'</span><span class="si">%</span><span class="s">s </span><span class="si">%</span><span class="s">s():'</span> <span class="o">%</span> <span class="p">(</span><span class="s">'begin call'</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
        <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
	<span class="k">print</span> <span class="s">'</span><span class="si">%</span><span class="s">s </span><span class="si">%</span><span class="s">s():'</span> <span class="o">%</span> <span class="p">(</span><span class="s">'end call'</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>

<span class="o">@</span><span class="n">log</span>
<span class="k">def</span> <span class="nf">now</span><span class="p">():</span>
	<span class="k">print</span> <span class="s">'2015-07-20'</span>

<span class="n">now</span><span class="p">()</span>
</code></pre></div></div>
<p>运行得到的结果:</p>
<blockquote>
  <p>begin call now():
2015-07-20
end call now():
now.<strong>name</strong>: now</p>
</blockquote>

<p>编写一个@log的decorator，使它既支持:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">log</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
	<span class="k">pass</span>
</code></pre></div></div>
<p>又支持:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">log</span><span class="p">(</span><span class="s">'execute'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
	<span class="k">pass</span>
</code></pre></div></div>
<p>从上面这个需求分析，我们可以采用默认参数的方法来解决上面这个问题:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">functools</span>

<span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="o">@</span><span class="n">functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">text</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
				<span class="k">print</span> <span class="s">'</span><span class="si">%</span><span class="s">s():'</span> <span class="o">%</span> <span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="k">print</span> <span class="s">'</span><span class="si">%</span><span class="s">s </span><span class="si">%</span><span class="s">s():'</span> <span class="o">%</span> <span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
			<span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span>

<span class="o">@</span><span class="n">log</span><span class="p">(</span><span class="s">'execute'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">now</span><span class="p">():</span>
	<span class="k">print</span> <span class="s">'2015-07-20-now()'</span>

<span class="o">@</span><span class="n">log</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">now1</span><span class="p">():</span>
	<span class="k">print</span> <span class="s">'2015-07-20-now1()'</span>

<span class="n">now</span><span class="p">()</span>

<span class="n">now1</span><span class="p">()</span>
</code></pre></div></div>
<p>上面运行的结果是:</p>
<blockquote>
  <p>execute now():
2015-07-20-now()
now1():
2015-07-20-now1()</p>
</blockquote>

<h3 id="35-偏函数-">3.5 偏函数 <span id="3.5"></span></h3>

<p>Python中的functools模块提供了许多有用的功能，其中一个就是偏函数(Partial Function)。要注意这里的偏函数和数学上的偏函数的意义不一样。</p>

<p>下面就以int()函数为例，来介绍偏函数。</p>

<p>int()函数的功能是将字符串形式的整数转换成整型的整数形式，例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">int</span><span class="p">(</span><span class="s">'12345'</span><span class="p">)</span>
<span class="mi">12345</span>
</code></pre></div></div>
<p>但是int()还提供了额外的参数base，默认值为10。如果传入base的参数为N，那么int()就可以作N进制的转换。例如:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">int</span><span class="p">(</span><span class="s">'123'</span><span class="p">,</span><span class="n">base</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="mi">83</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">int</span><span class="p">(</span><span class="s">'10000000'</span><span class="p">,</span><span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="mi">128</span>
</code></pre></div></div>
<p>假设要转换大量的二进制字符串，每次都传入int(x, base=2)非常麻烦，于是，我们想到，可以定义一个int2()的函数，默认把base=2传进去:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">int2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="o">...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">int2</span><span class="p">(</span><span class="s">'1000'</span><span class="p">)</span>
<span class="mi">8</span>
</code></pre></div></div>
<p>functools.partial就是帮助我们创建一个偏函数的，不需要我们自己定义int2()，可以直接使用下面的代码创建一个新的函数int2:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">functools</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">int2</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">int2</span><span class="p">(</span><span class="s">'1000'</span><span class="p">)</span>
<span class="mi">8</span>
</code></pre></div></div>
<p>简单总结一下functools.partial的作用就是将函数中的一些参数固定（将参数设置为默认值），然后返回一个新函数，通过这个函数进行调用就会变得非常简单。当函数的参数个数太多，需要简化时，使用functools.partial可以创建一个新的函数，这个新函数可以固定住原函数的部分参数，从而在调用时更简单。</p>


</article>



<section class="tags">
  <strong>Tags:</strong> <a href="/tag/Python">Python</a>
</section>



<section class="rss">
  <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
</section>

<section class="share">
  <span>Share: </span>
  
    
    
      <a href="//twitter.com/share?text=Python+%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%882%EF%BC%89&url=http%3A%2F%2Flocalhost%3A4000%2F%25E7%25BC%2596%25E7%25A8%258B%25E8%25AF%25AD%25E8%25A8%2580%2F2015%2F07%2F21%2FPython%25E5%25AD%25A6%25E4%25B9%25A0%25E7%25AC%2594%25E8%25AE%25B02.html&via=FlyFlyPeng"
        onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
        <i class="fa fa-twitter-square fa-lg"></i>
      </a>
    
    
    
    
    
    
    
  
    
    
    
      <a href="//www.facebook.com/sharer.php?t=Python+%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%882%EF%BC%89&u=http%3A%2F%2Flocalhost%3A4000%2F%25E7%25BC%2596%25E7%25A8%258B%25E8%25AF%25AD%25E8%25A8%2580%2F2015%2F07%2F21%2FPython%25E5%25AD%25A6%25E4%25B9%25A0%25E7%25AC%2594%25E8%25AE%25B02.html"
        onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;">
        <i class="fa fa-facebook-square fa-lg"></i>
      </a>
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
      <a href="//www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2F%25E7%25BC%2596%25E7%25A8%258B%25E8%25AF%25AD%25E8%25A8%2580%2F2015%2F07%2F21%2FPython%25E5%25AD%25A6%25E4%25B9%25A0%25E7%25AC%2594%25E8%25AE%25B02.html"
        onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;">
        <i class="fa fa-linkedin-square fa-lg"></i>
      </a>
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
      <a href="//www.pinterest.com/pin/create/button/?description=Python+%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%882%EF%BC%89&url=http%3A%2F%2Flocalhost%3A4000%2F%25E7%25BC%2596%25E7%25A8%258B%25E8%25AF%25AD%25E8%25A8%2580%2F2015%2F07%2F21%2FPython%25E5%25AD%25A6%25E4%25B9%25A0%25E7%25AC%2594%25E8%25AE%25B02.html&media=http://localhost:4000/assets/instacode.png"
        onclick="window.open(this.href, 'pinterest-share', 'width=550,height=255');return false;">
        <i class="fa fa-pinterest-square fa-lg"></i>
      </a>
    
    
    
  
</section>

	<section class="post-navigation">
		<span class="prev-post">
			
				<a href="/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2015/07/17/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01.html">
					<span class="fa-stack fa-lg">
						<i class="fa fa-square fa-stack-2x"></i>
						<i class="fa fa-angle-double-left fa-stack-1x fa-inverse"></i>
					</span>
					<span class="page-number">Python 学习笔记（1）</span>
				</a>
			
		</span>
		<span class="next-post">
			
				<a href="/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2015/07/24/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B03.html">
					<span class="page-number">Python 学习笔记（3）</span>
					<span class="fa-stack fa-lg">
						<i class="fa fa-square fa-stack-2x"></i>
						<i class="fa fa-angle-double-right fa-stack-1x fa-inverse"></i>
					</span>
				</a>
			
		</span>
	</section>




<section class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'flyflypeng';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>



</div>
</div>

    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">Fly Higher's Blog</h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        <li class="nav-link"><a href="/about/">About</a>
        <li class="nav-link"><a href="/posts/">Posts</a>
        <li class="nav-link"><a href="/project/">Projects</a>
       <!--  
        
          <li class="nav-link"><a href="/about/">About</a>
        
        
        
        
        
        
        
        
        
          <li class="nav-link"><a href="/posts/">Posts</a>
        
        
        
          <li class="nav-link"><a href="/project/">Projects</a>
        
        
        
          <li class="nav-link"><a href="/category/android/">android</a>
        
        
        
          <li class="nav-link"><a href="/category/%E5%88%A9%E5%99%A8/">利器</a>
        
        
        
          <li class="nav-link"><a href="/category/%E5%AD%A6%E4%B9%A0-%E6%95%88%E7%8E%87/">学习&效率</a>
        
        
        
          <li class="nav-link"><a href="/category/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a>
        
        
        
          <li class="nav-link"><a href="/category/linux/">linux</a>
        
        
        
          <li class="nav-link"><a href="/category/%E5%86%85%E6%A0%B8/">内核</a>
        
        
        
          <li class="nav-link"><a href="/category/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">体系结构</a>
        
        
        
          <li class="nav-link"><a href="/category/linux/">Linux</a>
        
        
        
          <li class="nav-link"><a href="/category/%E7%94%9F%E6%B4%BB/">生活</a>
        
        
        
          <li class="nav-link"><a href="/category/%E8%99%9A%E6%8B%9F%E5%8C%96/">虚拟化</a>
        
        
        
          <li class="nav-link"><a href="/category/%E4%BA%91%E5%8E%9F%E7%94%9F/">云原生</a>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
         -->
      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:woshijpf@zju.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">woshijpf@zju.com</span>
          </a>
        </li>

        
          
          <li>
            <a href="https://twitter.com/FlyFlyPeng" title="Follow me on Twitter">
              <i class="fa fa-twitter"></i>
              <span class="username">FlyFlyPeng</span>
            </a>
          </li>
          
        
          
        
          
          <li>
            <a href="https://github.com/flyflypeng" title="Fork me on GitHub">
              <i class="fa fa-github"></i>
              <span class="username">flyflypeng</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://www.linkedin.com/in/%E9%B9%8F%E9%A3%9E-%E5%A7%9C-683b03130/" title="Connect with me on LinkedIn">
              <i class="fa fa-linkedin"></i>
              <span class="username">FlyFlyPeng</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://www.instagram.com/FlyFlyPeng/" title="Follow me on Instagram">
              <i class="fa fa-instagram"></i>
              <span class="username">FlyFlyPeng</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://www.pinterest.com/flyflypeng/" title="Follow me on Pinterest">
              <i class="fa fa-pinterest"></i>
              <span class="username">FlyFlyPeng</span>
            </a>
          </li>
          
        

      </ul>
    </div>

    <div class="site-signature">
      <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
      <p class="text">Do one thing and do it well.
</p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
  // Default syntax highlighting
  hljs.initHighlightingOnLoad();

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });
});

</script>




<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-63075912-1', 'auto');
  ga('send', 'pageview', {
    'page': '/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2015/07/21/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B02.html',
    'title': 'Python 学习笔记（2）'
  });
</script>



  </body>

</html>
